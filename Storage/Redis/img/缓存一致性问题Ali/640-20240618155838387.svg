  <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="515px" preserveAspectRatio="none" style="width:643px;height:515px;background:#FFFFFF;" version="1.1" viewBox="0 0 643 515" width="643px" zoomAndPan="magnify">
   <defs>
   </defs>
   <g>
    <rect fill="#ADD8E6" height="134.7969" style="stroke:#000000;stroke-width:1.5;" width="623" x="3" y="96.4297">
    </rect>
    <rect fill="#ADD8E6" height="174.7969" style="stroke:#000000;stroke-width:1.5;" width="623" x="3" y="288.3594">
    </rect>
    <line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="213" x2="213" y1="36.2969" y2="480.1563">
    </line>
    <line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="506" x2="506" y1="36.2969" y2="480.1563">
    </line>
    <line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="588" x2="588" y1="36.2969" y2="480.1563">
    </line>
    <rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="42" x="192" y="5">
    </rect>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28" x="199" y="24.9951">
     
     
     
     缓存
    </text>
    <rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="42" x="192" y="479.1563">
    </rect>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28" x="199" y="499.1514">
     
     
     
     缓存
    </text>
    <rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="84" x="464" y="5">
    </rect>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="471" y="24.9951">
     
     
     
     布隆过滤器
    </text>
    <rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="84" x="464" y="479.1563">
    </rect>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="471" y="499.1514">
     
     
     
     布隆过滤器
    </text>
    <rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="56" x="560" y="5">
    </rect>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42" x="567" y="24.9951">
     
     
     
     数据库
    </text>
    <rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="56" x="560" y="479.1563">
    </rect>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42" x="567" y="499.1514">
     
     
     
     数据库
    </text>
    <rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="636" x="0" y="66.8633">
    </rect>
    <line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="636" y1="66.8633" y2="66.8633">
    </line>
    <line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="636" y1="69.8633" y2="69.8633">
    </line>
    <rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="89" x="273.5" y="56.2969">
    </rect>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="70" x="279.5" y="72.3638">
     
     
     
     布隆过滤器
    </text>
    <path d="M3,96.4297 L67,96.4297 L67,103.5625 L57,113.5625 L3,113.5625 L3,96.4297 " fill="#FFD700" style="stroke:#000000;stroke-width:1.5;">
    </path>
    <rect fill="none" height="134.7969" style="stroke:#000000;stroke-width:1.5;" width="623" x="3" y="96.4297">
    </rect>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="18" y="109.4966">
     
     
     
     alt
    </text>
    <polygon fill="#181818" points="201,145.8281,211,149.8281,201,153.8281,205,149.8281" style="stroke:#181818;stroke-width:1.0;">
    </polygon>
    <line style="stroke:#181818;stroke-width:1.0;" x1="0" x2="207" y1="149.8281" y2="149.8281">
    </line>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="7" y="137.1958">
     
     
     
     1
    </text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="20" y="129.6294">
     
     
     
     并发请求
    </text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169" x="20" y="144.7622">
     
     
     
     由于数据不存在，缓存不命中
    </text>
    <polygon fill="#181818" points="494,190.0938,504,194.0938,494,198.0938,498,194.0938" style="stroke:#181818;stroke-width:1.0;">
    </polygon>
    <line style="stroke:#181818;stroke-width:1.0;" x1="213" x2="500" y1="194.0938" y2="194.0938">
    </line>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="220" y="181.4614">
     
     
     
     2
    </text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="26" x="233" y="173.895">
     
     
     
     过滤
    </text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="233" y="189.0278">
     
     
     
     仅部分流量会穿透到DB
    </text>
    <polygon fill="#181818" points="576,219.2266,586,223.2266,576,227.2266,580,223.2266" style="stroke:#181818;stroke-width:1.0;">
    </polygon>
    <line style="stroke:#181818;stroke-width:1.0;" x1="506" x2="582" y1="223.2266" y2="223.2266">
    </line>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="513" y="218.1606">
     
     
     
     3
    </text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45" x="526" y="218.1606">
     
     
     
     请求DB
    </text>
    <rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="636" x="0" y="258.793">
    </rect>
    <line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="636" y1="258.793" y2="258.793">
    </line>
    <line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="636" y1="261.793" y2="261.793">
    </line>
    <rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="89" x="273.5" y="248.2266">
    </rect>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="70" x="279.5" y="264.2935">
     
     
     
     缓存空结果
    </text>
    <path d="M3,288.3594 L67,288.3594 L67,295.4922 L57,305.4922 L3,305.4922 L3,288.3594 " fill="#FFD700" style="stroke:#000000;stroke-width:1.5;">
    </path>
    <rect fill="none" height="174.7969" style="stroke:#000000;stroke-width:1.5;" width="623" x="3" y="288.3594">
    </rect>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="18" y="301.4263">
     
     
     
     alt
    </text>
    <polygon fill="#181818" points="201,322.625,211,326.625,201,330.625,205,326.625" style="stroke:#181818;stroke-width:1.0;">
    </polygon>
    <line style="stroke:#181818;stroke-width:1.0;" x1="0" x2="207" y1="326.625" y2="326.625">
    </line>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="7" y="321.5591">
     
     
     
     4
    </text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="20" y="321.5591">
     
     
     
     并发请求
    </text>
    <line style="stroke:#181818;stroke-width:1.0;" x1="213" x2="255" y1="355.7578" y2="355.7578">
    </line>
    <line style="stroke:#181818;stroke-width:1.0;" x1="255" x2="255" y1="355.7578" y2="368.7578">
    </line>
    <line style="stroke:#181818;stroke-width:1.0;" x1="214" x2="255" y1="368.7578" y2="368.7578">
    </line>
    <polygon fill="#181818" points="224,364.7578,214,368.7578,224,372.7578,220,368.7578" style="stroke:#181818;stroke-width:1.0;">
    </polygon>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="220" y="350.6919">
     
     
     
     5
    </text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="266" x="233" y="350.6919">
     
     
     
     数据不存在，缓存中保存空结果，不会请求DB
    </text>
    <polygon fill="#181818" points="576,393.8906,586,397.8906,576,401.8906,580,397.8906" style="stroke:#181818;stroke-width:1.0;">
    </polygon>
    <line style="stroke:#181818;stroke-width:1.0;" x1="213" x2="582" y1="397.8906" y2="397.8906">
    </line>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="220" y="392.8247">
     
     
     
     6
    </text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="227" x="233" y="392.8247">
     
     
     
     仅当缓存中空结果也没有时，才查询DB
    </text>
    <line style="stroke:#181818;stroke-width:1.0;" x1="213" x2="255" y1="442.1563" y2="442.1563">
    </line>
    <line style="stroke:#181818;stroke-width:1.0;" x1="255" x2="255" y1="442.1563" y2="455.1563">
    </line>
    <line style="stroke:#181818;stroke-width:1.0;" x1="214" x2="255" y1="455.1563" y2="455.1563">
    </line>
    <polygon fill="#181818" points="224,451.1563,214,455.1563,224,459.1563,220,455.1563" style="stroke:#181818;stroke-width:1.0;">
    </polygon>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="220" y="429.5239">
     
     
     
     7
    </text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="233" y="421.9575">
     
     
     
     刷新缓存
    </text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="208" x="233" y="437.0903">
     
     
     
     即便查询数据库为空，也缓存空结果
    </text>
   </g>
  </svg>
